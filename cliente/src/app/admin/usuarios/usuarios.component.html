<app-admin-nav></app-admin-nav>

<h2 class="text-2xl font-bold mb-6">Gestión de Usuarios (Admin)</h2>

<table class="min-w-full bg-white border border-gray-200 rounded-md shadow-md">
  <thead>
    <tr class="bg-gray-100 text-gray-600 uppercase text-sm leading-normal">
      <th class="py-3 px-6 text-left">ID</th>
      <th class="py-3 px-6 text-left">Nombre</th>
      <th class="py-3 px-6 text-left">Email</th>
      <th class="py-3 px-6 text-left">Rol</th>
      <th class="py-3 px-6 text-center">Activo</th>
      <th class="py-3 px-6 text-center">Acciones</th>
    </tr>
  </thead>
  <tbody class="text-gray-700 text-sm">
    <tr *ngFor="let usuario of usuarios" class="border-b border-gray-200 hover:bg-gray-50">
      <td class="py-3 px-6 text-left whitespace-nowrap">{{ usuario.id }}</td>
      <td class="py-3 px-6 text-left">{{ usuario.nombre }}</td>
      <td class="py-3 px-6 text-left">{{ usuario.correo }}</td>
      <td class="py-3 px-6 text-left capitalize">{{ usuario.rol }}</td>
      <td class="py-3 px-6 text-center">
        <span [class]="usuario.activo ? 'text-green-600 font-semibold' : 'text-red-600 font-semibold'">
          {{ usuario.activo ? 'Sí' : 'No' }}
        </span>
      </td>
      <td class="py-3 px-6 text-center">
        <button 
          (click)="activarUsuario(usuario)" 
          [disabled]="usuario.activo"
          class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed mr-2"
        >
          Activar
        </button>
        <button 
          (click)="desactivarUsuario(usuario)" 
          [disabled]="!usuario.activo"
          class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Desactivar
        </button>
        <button
          (click)="eliminarUsuario(usuario.id)"
          class="bg-red-500 text-white px-3 py-1 rounded hover:bg-gray-800"
        >
          Eliminar
        </button>
        
      </td>
    </tr>
  </tbody>
</table>
